(this.webpackJsonpcshops=this.webpackJsonpcshops||[]).push([[20],{103:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminContext",(function(){return _}));var a=n(16),r=n(113),c=n(9),l=n(0),o=n.n(l),u=n(12),i=n(13),m=(n(158),n(46)),s=n(15),d=n.n(s),b=n(10),p=Object(l.lazy)((function(){return n.e(21).then(n.bind(null,182))})),f=Object(l.lazy)((function(){return Promise.all([n.e(12),n.e(26)]).then(n.bind(null,183))})),h=Object(l.lazy)((function(){return Promise.all([n.e(1),n.e(11)]).then(n.bind(null,184))})),E=Object(l.lazy)((function(){return n.e(15).then(n.bind(null,167))})),y=Object(l.lazy)((function(){return n.e(13).then(n.bind(null,168))})),O=Object(l.lazy)((function(){return n.e(16).then(n.bind(null,169))})),j=Object(l.lazy)((function(){return Promise.all([n.e(19),n.e(29)]).then(n.bind(null,170))})),g=Object(l.lazy)((function(){return n.e(23).then(n.bind(null,175))})),S=Object(l.lazy)((function(){return n.e(17).then(n.bind(null,176))})),v=Object(l.lazy)((function(){return n.e(14).then(n.bind(null,177))})),I={API_URL:m.a},_=Object(l.createContext)(),z=function(e,t){switch(t.type){case"FETCH_PRODUCTS":return Object(c.a)({},e,{products:t.payload});case"LOGGED_IN_USER":return Object(c.a)({},e,{loggedInUser:t.payload});case"ENQUIRIES":return Object(c.a)({},e,{enquiries:t.payload});case"DELETE_PRODUCT":return Object(c.a)({},e,{products:Object(r.a)(e.products.filter((function(e){return e.id!==t.payload})))});default:return I}};t.default=Object(l.memo)((function(e){var t=Object(l.useReducer)(z,I),n=Object(a.a)(t,2),r=n[0],c=n[1],m=Object(u.f)();return Object(l.useEffect)((function(){d.a.get("".concat(r.API_URL,"/users/user"),Object(b.a)()).then((function(e){c({type:"LOGGED_IN_USER",payload:e.data[0]}),!1===e.data.status?(c({type:"FETCH_PRODUCTS",payload:""}),localStorage.setItem("auth",!1),localStorage.removeItem("token"),m.push("/login")):localStorage.setItem("auth",!0)})).catch((function(e){}))}),[r.API_URL,m]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mobileMenu"},o.a.createElement("i",{className:"fal fa-bars orange",onClick:function(e){document.querySelector(".adminSidebar").classList.toggle("open")}})),o.a.createElement("main",{className:"admin d-flex"},o.a.createElement("div",{className:"d-flex panelwraper"},o.a.createElement(l.Suspense,{fallback:o.a.createElement("div",{className:"loader"},"Loading...")},o.a.createElement(_.Provider,{value:{data:r,dispatch:c}},o.a.createElement(i.a,null,o.a.createElement(p,null),o.a.createElement(u.b,{path:"/admin/dashboard",component:j}),o.a.createElement(u.b,{path:"/admin/producs",component:f}),o.a.createElement(u.b,{path:"/admin/enquiries",component:h}),o.a.createElement(u.b,{path:"/admin/manufacturers",component:E}),o.a.createElement(u.b,{path:"/admin/vender_requests",component:y}),o.a.createElement(u.b,{path:"/admin/venders",component:O}),o.a.createElement(u.b,{path:"/admin/myprofile",component:g}),o.a.createElement(u.b,{path:"/admin/myorders",component:S}),o.a.createElement(u.b,{path:"/admin/mybookings",component:v})))))))}))},113:function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return a}))},158:function(e,t,n){}}]);
//# sourceMappingURL=20.4a34d263.chunk.js.map