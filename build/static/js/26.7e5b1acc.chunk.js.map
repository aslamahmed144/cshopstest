{"version":3,"sources":["form/Inputfield.js","admin/components/Productform.js"],"names":["Inputfield","props","col","formgroup","all","className","Textarea","memo","useContext","AdminContext","data","dispatch","useState","xfields","setXfields","srcDefault","setSrcDefault","fieldName","useRef","fieldValue","addToast","useToasts","fileData","setFileData","displayimg","imgLoging","setImgLoging","cropper","product","setProduct","errorSetting","appearance","autoDismiss","autoDismissTimeout","useEffect","photo","JSON","stringify","display","photosurl","photos","thumbnail","fieldsData","length","extra_fields","productValidation","categories","type","product_name","selling_price","venders_price","stock","warranty","details","terms_conditions","e","a","current","getCroppedCanvas","toDataURL","uploadOnServer","url","axios","post","API_URL","image","then","res","status","message","parse","getProducts","get","getToken","payload","inputChange","name","target","value","Row","Control","as","onChange","placeholder","defaultValue","purchase_price","minorder","map","item","i","key","size","ref","Prepend","variant","onClick","addField","window","URL","createObjectURL","files","uploadFiles","htmlFor","src","style","maxHeight","maxWidth","width","aspectRatio","guides","cropImg","disabled","border","xs","md","setDisplay","newfileData","splice","removeImage","create","put"],"mappings":"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","file":"static/js/26.7e5b1acc.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Inputfield = (props)=>{\r\n\tconst {col, formgroup, ...all} = props;\r\n\treturn(\r\n\t\t\t<div className={`form-group ${formgroup} ${col? 'col-lg-' +col+ ' col-12' :''}`}>\r\n\t\t\t\t<input {...all}\r\n\t\t\t\t\t\t\t className=\"form-control\" />\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\nconst Textarea = (props)=>{\r\n\tconst {col, ...all} = props;\r\n\treturn(\r\n\t\t\t<div className={`form-group col-lg-${col} col-12`}>\r\n\t\t\t\t<textarea {...all}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"></textarea>\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\n\r\nexport  {Inputfield, Textarea}","import React, {useState, useEffect, memo, useContext, useRef} from 'react';\r\nimport {Button, Form, Col, Image, Row, InputGroup, FormControl, Badge} from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nimport {Inputfield, Textarea} from '../../form/Inputfield';\r\nimport {useToasts } from 'react-toast-notifications';\r\nimport Cropper from 'react-cropper';\r\nimport 'cropperjs/dist/cropper.css';\r\n\r\nimport {AdminContext} from '../Admin';\r\nimport {getToken} from '../../methods/methods';\r\n\r\nconst Productform =(props)=>{\r\n\tconst {data, dispatch} = useContext(AdminContext);\t\r\n\tconst [xfields, setXfields] = useState([])\r\n\tconst [srcDefault, setSrcDefault] = useState('')\r\n\tconst fieldName = useRef()\r\n\tconst fieldValue = useRef()\r\n\tconst { addToast } = useToasts();\r\n\tconst [fileData, setFileData] =\tuseState([]);\r\n\tconst [displayimg, setDisplayimg] =\tuseState(0);\r\n\tconst [imgLoging, setImgLoging] =\tuseState(false);\r\n\tconst cropper = useRef(null);\r\n\tconst [product, setProduct] =\tuseState(props.data)\r\n\t\r\n\tlet errorSetting = { appearance: 'error', autoDismiss:true,  autoDismissTimeout :2000 }\r\n\r\n\tuseEffect(()=>{\r\n\t\tlet photo = JSON.stringify({display:displayimg, photosurl:fileData })\t\t\r\n\t\tif(product){\r\n\t\t\tsetProduct({...product, photos:photo, thumbnail:fileData[0]})\t\t\t\r\n\t\t} \r\n\t}, [fileData, displayimg])\r\n\r\n\tuseEffect(()=>{\r\n\t\tlet fieldsData = JSON.stringify(xfields);\r\n\t\tif(xfields.length>0) setProduct({...product, extra_fields:fieldsData})\r\n\t},[xfields])\r\n\t\r\n\r\n\tconst addField = ()=>{\r\n\t\tlet name  = fieldName.current.value;\r\n\t\tlet value  = fieldValue.current.value;\r\n\t\tif(name && value){\r\n\t\t\tsetXfields([...xfields, {name, value}])\r\n\t\t\tfieldName.current.value= '';\r\n\t\t\tfieldValue.current.value='';\t\t\t\r\n\t\t}\r\n\t}\t\r\n\r\n\tuseEffect(()=>{\t\t\t\t\r\n\t\t if(props.data && props.data.photos){\r\n\t\t\tlet photos = JSON.parse(props.data.photos)\r\n\t\t\t\tsetFileData(photos.photosurl)\r\n\t\t\t}\r\n\t},[props.data.photos]);\r\n\t\r\n\tuseEffect(()=>{\r\n\t \tif(props.data && props.data.extra_fields){\r\n\t\tlet extra_fields = JSON.parse(props.data.extra_fields)\t\t\t\t\r\n\t\t\tsetXfields(extra_fields)\r\n\t\t}\r\n\t},[props.data.extra_fields]);\r\n\r\n\tfunction productValidation(){\r\n\t\tif(!product.categories){\r\n\t\t\taddToast('Please select catagory', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.type){\r\n\t\t\taddToast('Please select type', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.product_name){\r\n\t\t\taddToast('Please enter product name', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.selling_price){\r\n\t\t\taddToast('Please enter selling price', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.selling_price){\r\n\t\t\taddToast('Please enter selling price', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.venders_price){\r\n\t\t\taddToast('Please enter venders price', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.stock){\r\n\t\t\taddToast('Please enter stock', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.warranty){\r\n\t\t\taddToast('Please enter warranty', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.details){\r\n\t\t\taddToast('Please enter details', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!product.terms_conditions){\r\n\t\t\taddToast('Please enter details', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(product.photos.length<=2){\r\n\t\t\taddToast('Please select photos', errorSetting)\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\tasync function cropImg(e){\r\n\t\tif(e!==false && cropper){\r\n\t\t\tsetImgLoging(true)\r\n\t    const dataUrl = await cropper.current.getCroppedCanvas().toDataURL(\"image/jpeg\");\t    \r\n\t   \tuploadOnServer(dataUrl)\t   \t\r\n\t\t}\r\n  }\r\n\r\n  function uploadOnServer(url){\r\n\t\taxios.post(`${data.API_URL}/upload`, {image:url}).then((res)=>{\t\t\t\r\n   \t\tif(res.data.status==false){\r\n   \t\t\taddToast(res.data.message, errorSetting)\r\n   \t\t}\r\n   \t\telse{\r\n  \t\t\tsetFileData([...fileData, res.data])\t\r\n   \t\t}\r\n  \t\tsetImgLoging(false)\r\n  \t})\r\n  }\r\n\r\n  function removeImage(i){\r\n  \tlet newfileData = fileData;\r\n  \tnewfileData.splice(i, 1);  \t\r\n  \tsetFileData([...newfileData])\r\n  }\r\n  function setDisplay(i){\r\n  \tsetProduct({...product, thumbnail:fileData[i]})\r\n  }  \r\n\tconst uploadFiles=(e)=>{\r\n\t\tlet image = window.URL.createObjectURL(e.target.files[0])    \r\n\t\tsetSrcDefault(image);     \r\n\t}\r\n\tconst saveProduct=()=>{\r\n\t\tlet validate = productValidation();\r\n\t\tif(validate){\r\n\t\t\taxios.post(`${data.API_URL}/product/add`, product, getToken() ).then((res)=>{\r\n\t\t\t\tif(res.data.status===false){\r\n\t\t\t\t\taddToast(res.data.message, errorSetting)\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tgetProducts()\r\n\t\t\t\t\taddToast(`Product added successfully`, { appearance: 'success', autoDismiss:true,  autoDismissTimeout :2000 })\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\t\t\t\r\n\t\t}\r\n\t}\r\n\tconst updateProduct=()=>{\r\n\t\tlet validate = productValidation();\r\n\t\tif(validate){\r\n\t\t\taxios.put(`${data.API_URL}/product/update`, product, getToken() ).then((res)=>{\r\n\t\t\t\tif(res.data.status===false){\r\n\t\t\t\t\taddToast(res.data.message, errorSetting)\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tgetProducts()\r\n\t\t\t\t\taddToast(`Product 'updated' successfully`, { appearance: 'success', autoDismiss:true,  autoDismissTimeout :2000 })\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tconst getProducts =()=>{\r\n\t\taxios.get(`${data.API_URL}/product/admin/products`, getToken() ).then((res)=>{\t\t\t\r\n\t\t\tdispatch({type:'FETCH_PRODUCTS', payload:res.data})\r\n\t\t})\r\n\t}\r\n\tconst inputChange = (e)=>{\r\n\t\tlet name = e.target.name;\r\n\t\tlet value = e.target.value;\t\t\r\n\t\tsetProduct({\r\n\t\t\t...product,\r\n\t\t\t[name]:value\r\n\t\t})\r\n\t}\t\r\n\tfunction cancelCroper(){\r\n\t\tsetSrcDefault(false)\r\n\t\taxios.get(`${data.API_URL}/product/admin/products`, getToken() ).then((res)=>{\t\t\t\r\n\t\t\tdispatch({type:'FETCH_PRODUCTS', payload:res.data})\r\n\t\t})\r\n\t}\r\n\t\r\n\treturn(\r\n\t\t<div className=\"p-3 mb-3 border-bottom\">\r\n\t\t\t<Form>\r\n\t\t\t  <Form.Row>\r\n\t\t\t\t  <div className=\"form-group col-lg-3 col-12\">\t\t\r\n\t\t\t\t  \t<Form.Control as=\"select\" name=\"categories\" onChange={e=>inputChange(e)}>\r\n\t\t\t\t      <option>Choose Categories</option>\r\n\t\t\t\t      <option value=\"industrial\">Industrial</option>\r\n\t\t\t\t      <option value=\"construction\">Construction</option>\r\n\t\t\t\t      <option value=\"agriculture\">Agriculture</option>\r\n\t\t\t\t      <option value=\"housewares\">Housewares</option>\t\t\t      \r\n\t\t\t\t    </Form.Control>\r\n\t\t\t\t  </div>\r\n\t\t\t\t  <div className=\"form-group col-lg-3 col-12\">\r\n\t\t\t\t    <Form.Control as=\"select\" name=\"type\" onChange={e=>inputChange(e)}>\r\n\t\t\t\t      <option>Choose Type</option>\r\n\t\t\t\t      <option value=\"Hand Tools\">Hand Tools</option>\r\n\t\t\t\t      <option value=\"Automobile\">Automobile</option>\r\n\t\t\t\t      <option value=\"Furniture\">Furniture</option>\t\t\t      \t\t\t      \r\n\t\t\t\t      <option value=\"electrical\">Electrical</option>\t\t\t      \t\t\t      \r\n\t\t\t\t    </Form.Control>\t\t  \t\r\n\t\t\t\t  </div>\t\t\t  \t\r\n\t\t\t    <Inputfield col={3} \r\n\t\t\t    \t\t\t\t\t\tname=\"product_name\" \r\n\t\t\t    \t\t\t\t\t\tplaceholder=\"Product Name\" \r\n\t\t\t    \t\t\t\t\t\ttype=\"text\"\r\n\t\t\t    \t\t\t\t\t\tdefaultValue={product.product_name}\r\n\t\t\t    \t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t    \t\t\t\t\t\t/>\t\t    \r\n\t\t\t  \t<Inputfield col={3}\r\n\t\t\t  \t\t\t\t\t\t\tname=\"purchase_price\" \r\n\t\t\t  \t\t\t\t\t\t\tplaceholder=\"Purchase Price\" \r\n\t\t\t  \t\t\t\t\t\t\ttype=\"number\"  \r\n\t\t\t  \t\t\t\t\t\t\tdefaultValue={product.purchase_price}\r\n\t\t\t  \t\t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t\t/>\r\n\t\t\t  \t<Inputfield col={3} \r\n\t\t\t  \t\t\t\t\t\t\tname=\"selling_price\" \r\n\t\t\t  \t\t\t\t\t\t\tplaceholder=\"Selling Price\" \r\n\t\t\t  \t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t  \t\t\t\t\t\t\tdefaultValue={product.selling_price}\r\n\t\t\t  \t\t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t\t/>\r\n\t\t\t  \t<Inputfield col={3} \r\n\t\t\t  \t\t\t\t\t\t\tname=\"venders_price\" \r\n\t\t\t  \t\t\t\t\t\t\tplaceholder=\"Venders Price\" \r\n\t\t\t  \t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t  \t\t\t\t\t\t\tdefaultValue={product.venders_price}\r\n\t\t\t  \t\t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t\t/>\r\n\t\t\t  \t<Inputfield col={2} \r\n\t\t\t  \t\t\t\t\t\t\tname=\"stock\" \r\n\t\t\t  \t\t\t\t\t\t\tplaceholder=\"Stock\" \r\n\t\t\t  \t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t  \t\t\t\t\t\t\tdefaultValue={product.stock}\r\n\t\t\t  \t\t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t\t/>\r\n\t\t\t  \t<Inputfield col={2} \r\n\t\t\t  \t\t\t\t\t\t\tname=\"minorder\"\r\n\t\t\t  \t\t\t\t\t\t\tplaceholder=\"Min Order\" \r\n\t\t\t  \t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t  \t\t\t\t\t\t\tdefaultValue={product.minorder}\r\n\t\t\t  \t\t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t\t/>\r\n\t\t\t  \t<Inputfield col={2} \r\n\t\t\t  \t\t\t\t\t\t\tname=\"warranty\" \r\n\t\t\t  \t\t\t\t\t\t\tplaceholder=\"Warranty in Months\" \r\n\t\t\t  \t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t  \t\t\t\t\t\t\tdefaultValue={product.warranty}\r\n\t\t\t  \t\t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t</Form.Row>\r\n\t\t\t\t<Form.Row>\r\n\t\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txfields? xfields.map((item, i)=>{\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t<Badge className=\"bg_yellow white ml-1\" key={item.name+i}> {`${item.name} : ${item.value}` }</Badge>\r\n\t\t\t\t\t\t\t\t\t) \r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t:null\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t<InputGroup className=\"mb-3\" size=\"sm\">\r\n\t\t\t\t\t\t  <FormControl placeholder=\"Label Name\" ref={fieldName} />\r\n\t\t\t\t\t\t  <FormControl placeholder=\"Value\" ref={fieldValue} />\r\n\t\t\t\t\t\t  <InputGroup.Prepend>\r\n\t\t\t\t\t\t    <Button size=\"sm\" variant=\"\" className=\"btn_green\" type=\"button\" onClick={e=>addField(e)}>\r\n\t\t\t\t\t\t    \t<i className=\"fal fa-plus\"></i> Add More\r\n\t\t\t\t\t\t    </Button>\r\n\t\t\t\t\t\t  </InputGroup.Prepend>\r\n\t\t\t\t\t\t</InputGroup>\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Row>\r\n\t\t\t  <Form.Row>\r\n\t\t\t  \t<Textarea col={6} \r\n\t\t\t  \t\t\t\t\t\tname=\"details\" \r\n\t\t\t  \t\t\t\t\t\tplaceholder=\"Details\" \r\n\t\t\t  \t\t\t\t\t\tvalue={product.details}\r\n\t\t\t  \t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t/>\r\n\t\t\t  \t<Textarea col={6} \r\n\t\t\t  \t\t\t\t\t\tname=\"terms_conditions\" \r\n\t\t\t  \t\t\t\t\t\tplaceholder=\"Terms and Conditions\" \r\n\t\t\t  \t\t\t\t\t\tvalue={product.terms_conditions}\r\n\t\t\t  \t\t\t\t\t\tonChange={e=>inputChange(e)}\r\n\t\t\t  \t\t\t\t\t\t/>\r\n\t\t\t\t</Form.Row>\r\n\t\t\t\t<Form.Row>\r\n\t\t\t\t  <div className='col-lg-6'>\r\n\t\t\t\t  \t<div className=\"custom-file\">\r\n\t\t\t\t\t    <input type=\"file\" className=\"custom-file-input\" onChange={e=>uploadFiles(e)} />\r\n\t\t\t\t\t    <label className=\"custom-file-label\" htmlFor=\"customFile\">Choose file</label>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  {\r\n\t\t\t\t\t  \tsrcDefault? \r\n\t\t\t\t\t\t\t  <div className=\"mt-2 mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Cropper\r\n\t\t\t\t\t\t        ref={cropper}\r\n\t\t\t\t\t\t        src={srcDefault}\r\n\t\t\t\t\t\t        style={{maxHeight: 400, maxWidth: 600, width:'100%'}}\r\n\t\t\t\t\t\t        // Cropper.js options\r\n\t\t\t\t\t\t        aspectRatio={1 / 1}\r\n\t\t\t\t\t\t        guides={false}\r\n\t\t\t\t\t\t        // crop={e=>cropImg(e)} \r\n\t\t\t\t\t\t      />\r\n\t\t\t\t\t      </div>\r\n\t\t\t\t\t  \t:null\r\n\t\t\t\t\t  }\r\n\t\t\t      {\r\n\t\t\t      \tsrcDefault? \r\n\t\t\t      \t\t<div>\r\n\t\t\t\t\t\t      <button type=\"button\" className=\"btn btn_orange\" onClick={e=>cancelCroper(false)} >Cancel</button>\r\n\t\t\t\t\t\t      <button type=\"button\" className=\"btn btn_blue ml-2\" onClick={e=>cropImg(e)} disabled={imgLoging? true : false} >\r\n\t\t\t\t\t\t      \t{\r\n\t\t\t\t\t\t      \t\timgLoging? \r\n\t\t\t\t\t\t      \t\t\t<span>\r\n\t\t\t\t\t\t\t      \t\t\t<span className=\"spinner-grow spinner-grow-sm\"></span>Uploading..\r\n\t    \t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t      \t\t: <span>Crop & Upload</span>\r\n\t\t\t\t\t\t      \t}\t\t\t\t\t\t      \t\r\n\t\t\t\t\t\t      </button>\t\t\t      \t\t\t\t\t\t\t\t\t      \r\n\t\t\t      \t\t</div>\r\n\t\t\t      \t:null\r\n\t\t\t      }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\tproduct.thumbnail? \r\n\t\t\t\t\t\t\t\t<div className=\"mb-2 d-flex flex-column\">\r\n\t\t\t\t\t\t\t\t\t<Image src={product.thumbnail} \r\n\t\t\t\t\t\t\t\t\t\t\t\t style={{border:`2px solid green`}} \r\n\t\t\t\t\t\t\t\t\t\t\t\t className=\"img-fluid\" width=\"100\" />\r\n\t\t\t\t\t\t\t\t\t<small>Product Thumbnail</small>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t{fileData && fileData.length>0? fileData.map((item, i)=>{\r\n\t\t\t\t\t\t    return (\r\n\t\t\t\t\t\t\t    \t<Col xs={6} md={2} key={item}>\r\n\t\t\t\t\t\t\t\t    \t<div style={{border:`2px solid #dee2e6`}} onClick={e=>setDisplay(i)}>\r\n\t\t\t\t\t\t\t\t    \t\t<i className=\"fal fa-times\" onClick={e=>removeImage(i)}></i> \r\n\t\t\t\t\t\t\t\t\t      <Image src={`${item}`} className=\"img-fluid\" />\r\n\t\t\t\t\t\t\t\t    \t</div>\r\n\t\t\t\t\t\t\t\t    </Col>\t\r\n\t\t\t\t\t\t\t    )\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}) :null}\r\n\t\t\t\t\t  </Row>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t  </Form.Row>\r\n\t\t\t  <div className=\"d-flex justify-content-end\">\r\n\t\t\t  \t{\r\n\t\t\t  \t\tprops.create? \r\n\t\t\t\t  \t\t<button className=\"btn btn-sm btn_blue\" onClick={e=>saveProduct(e)}  type=\"button\">Save Product</button>\t\t\t\t  \r\n\r\n\t\t\t  \t\t: <button className=\"btn btn-sm btn_blue\" onClick={e=>updateProduct(e)}  type=\"button\">Update Product</button>\r\n\t\t\t  \t}\t\t\t\t  \r\n\t\t\t  </div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport default memo(Productform);"],"sourceRoot":""}